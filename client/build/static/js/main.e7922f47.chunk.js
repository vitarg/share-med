(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),i=n.n(r),s=n(13),o=n(17),l=n(135),u=n(139),d=n(137),j=n(2),p=Object(l.a)((function(e){return{title:{fontSize:20},logo:{marginRight:20}}})),b=function(){var e=p();return Object(j.jsxs)(d.a,{component:o.b,to:"/",className:e.title,children:[Object(j.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/883/883407.png",alt:"logo",width:40,className:e.logo}),Object(j.jsx)("span",{children:"Share medication"})]})},m=n(8),f=Object(l.a)((function(e){return{logout:{width:130,height:40},login:{height:40}}})),h=function(){var e=f();return Object(m.c)((function(e){return e.application.token}))?Object(j.jsx)(d.a,{className:e.logout,variant:"outlined",color:"secondary",onClick:function(){localStorage.removeItem("token"),document.location.reload()},children:"\u0412\u044b\u0439\u0442\u0438"}):Object(j.jsx)(d.a,{className:e.login,component:o.b,to:"/sign-in",variant:"outlined",color:"secondary",children:"\u0412\u043e\u0439\u0442\u0438 \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d"})},O=Object(l.a)((function(e){return{appbar:{background:"#fff",padding:20,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",boxShadow:"0 .5rem 1rem rgba(0, 0, 0,.15)"}}})),g=function(){var e=O();return Object(j.jsxs)(u.a,{position:"static",className:e.appbar,children:[Object(j.jsx)(b,{}),Object(j.jsx)(h,{})]})},x=n(11),v=n(140),y=n(141),w=n(160),S=n(80),N=n(156),C=n(143),k=n(55),q=n.n(k),W=n(16),I=n.n(W),T=n(22),B=n(7),D={signingUp:!1,signingIn:!1,error:null,token:localStorage.getItem("token")};var F=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),R=function(){var e=F(),t=Object(m.b)(),n=Object(a.useState)(""),c=Object(x.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),l=Object(x.a)(s,2),u=l[0],p=l[1],b=Object(m.c)((function(e){return e.application.signingIn})),f=Object(m.c)((function(e){return e.application.error})),h=function(e){e.preventDefault(),t(function(e,t){return function(){var n=Object(T.a)(I.a.mark((function n(a){var c,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"application/signin/pending"}),n.next=3,fetch("/admins/login",{method:"POST",body:JSON.stringify({login:e,password:t}),headers:{"Content-type":"application/json"}});case 3:return c=n.sent,n.next=6,c.json();case 6:(r=n.sent).error?a({type:"application/signin/rejected",error:r.error}):(a({type:"application/signin/fulfilled",payload:r}),localStorage.setItem("token",r.token),window.location.href="/");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,u))};return Object(j.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)("div",{className:e.paper,children:[Object(j.jsx)(w.a,{className:e.avatar,children:Object(j.jsx)(q.a,{})}),Object(j.jsx)(S.a,{component:"h1",variant:"h5",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{onSubmit:function(e){return h(e)},className:e.form,noValidate:!0,children:[Object(j.jsx)(N.a,{onChange:function(e){return function(e){i(e.target.value)}(e)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"login",label:"\u041b\u043e\u0433\u0438\u043d",name:"login",autoComplete:"login",autoFocus:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){p(e.target.value)}(e)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password"}),Object(j.jsx)(S.a,{children:f}),Object(j.jsx)(d.a,{disabled:b,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(j.jsx)(C.a,{container:!0,children:Object(j.jsx)(C.a,{item:!0,children:Object(j.jsx)(o.b,{to:"/sign-up",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})})]})]})]})},A=n(157),E=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),L=function(){var e=E(),t=Object(m.b)(),n=Object(m.c)((function(e){return e.application.signingUp})),c=Object(m.c)((function(e){return e.application.error})),r=Object(a.useState)(""),i=Object(x.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(""),p=Object(x.a)(u,2),b=p[0],f=p[1],h=Object(a.useState)(""),O=Object(x.a)(h,2),g=O[0],k=O[1],W=function(e){e.preventDefault(),t(function(e,t,n){return function(){var a=Object(T.a)(I.a.mark((function a(c){var r,i;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:"application/signup/pending"}),a.next=3,fetch("/admins",{method:"POST",body:JSON.stringify({name:e,login:t,password:n}),headers:{"Content-type":"application/json"}});case 3:r=a.sent,(i=r.json()).error?c({type:"application/signup/rejected",error:i.error}):c({type:"application/signup/fulfilled",payload:i});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(s,b,g))};return Object(j.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(j.jsx)(A.a,{children:c}),Object(j.jsx)(y.a,{}),Object(j.jsxs)("div",{className:e.paper,children:[Object(j.jsx)(w.a,{className:e.avatar,children:Object(j.jsx)(q.a,{})}),Object(j.jsx)(S.a,{component:"h1",variant:"h5",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{onSubmit:function(e){return W(e)},className:e.form,noValidate:!0,children:[Object(j.jsxs)(C.a,{container:!0,spacing:2,children:[Object(j.jsx)(C.a,{item:!0,xs:12,children:Object(j.jsx)(N.a,{onChange:function(e){return function(e){l(e.target.value)}(e)},autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"\u0418\u043c\u044f",autoFocus:!0})}),Object(j.jsx)(C.a,{item:!0,xs:12,children:Object(j.jsx)(N.a,{onChange:function(e){return function(e){f(e.target.value)}(e)},variant:"outlined",required:!0,fullWidth:!0,id:"login",label:"\u041b\u043e\u0433\u0438\u043d",name:"login",autoComplete:"login"})}),Object(j.jsx)(C.a,{item:!0,xs:12,children:Object(j.jsx)(N.a,{onChange:function(e){return function(e){k(e.target.value)}(e)},variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(j.jsx)(d.a,{type:"submit",disabled:n,fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(j.jsx)(C.a,{container:!0,justifyContent:"flex-end",children:Object(j.jsx)(C.a,{item:!0,children:Object(j.jsx)(o.b,{to:"/sign-in",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? \u0412\u043e\u0439\u0442\u0438"})})})]})]})]})},_={medications:[],loading:!1};var J=function(e){return function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"medications/fetch/pending"}),e.next=4,fetch("/medications");case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,e.next=10,t({type:"medications/fetch/fulfilled",payload:a});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"medications/fetch/rejected",error:e.t0.toString()});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},z=n(154),G=n(159),H=n(144),P=n(145),U=n(146),M=n(147),V=function(e){var t=e.open,n=e.setOpen,c=Object(m.b)(),r=Object(a.useState)(""),i=Object(x.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),u=Object(x.a)(l,2),p=u[0],b=u[1],f=Object(a.useState)(0),h=Object(x.a)(f,2),O=h[0],g=h[1],v=Object(a.useState)(""),y=Object(x.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(""),k=Object(x.a)(C,2),q=k[0],W=k[1],B=Object(a.useState)(""),D=Object(x.a)(B,2),F=D[0],R=D[1],A=Object(a.useState)(!1),E=Object(x.a)(A,2),L=E[0],_=E[1],J=function(){n(!1)};return Object(j.jsxs)(G.a,{open:t,onClose:J,"aria-labelledby":"form-dialog-title",children:[Object(j.jsx)(H.a,{id:"form-dialog-title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e"}),Object(j.jsxs)(P.a,{children:[Object(j.jsx)(U.a,{children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){o(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430",type:"text",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){g(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"price",label:"\u0426\u0435\u043d\u0430",type:"number",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){b(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){S(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"category",label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",type:"text",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){W(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"imageInput",label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",type:"text",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){R(e.target.value)}(e)},autoFocus:!0,margin:"dense",id:"expire",label:"\u0413\u043e\u0434\u0435\u043d \u0434\u043e",type:"text",fullWidth:!0}),Object(j.jsx)(N.a,{onChange:function(e){return function(e){_(e.target.value)}(e)},autoFocus:!0,id:"recipe",label:"\u041d\u0443\u0436\u0435\u043d \u0440\u0435\u0446\u0435\u043f\u0442?",type:"text",fullWidth:!0})]}),Object(j.jsxs)(M.a,{children:[Object(j.jsx)(d.a,{onClick:J,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(j.jsx)(d.a,{onClick:function(){c(function(e,t,n,a,c,r,i){return function(){var s=Object(T.a)(I.a.mark((function s(o){var l,u;return I.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch("/medications",{method:"POST",body:JSON.stringify({name:e,price:t,descr:n,category:a,img:c,expiryDate:r,hasRecipe:i}),headers:{"Content-Type":"application/json"}});case 3:return l=s.sent,s.next=6,l.json();case 6:u=s.sent,o({type:"medications/add-medication/fulfilled",payload:u}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),o({type:"categories/add-medication/rejected",error:s.t0.toString()});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}(s,O,p,w,q,F,L)),n(!1)},color:"primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})},X=n(75),K=n.n(X),Q=Object(l.a)({addBtn:{height:42}}),Y=function(e){var t=e.setOpen,n=Q();return Object(m.c)((function(e){return e.application.token}))?Object(j.jsx)(d.a,{className:n.addBtn,variant:"outlined",color:"primary",onClick:function(){t(!0)},endIcon:Object(j.jsx)(K.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}):Object(j.jsx)(j.Fragment,{})},Z=n(142),$=n(148),ee={categories:[],loading:!1};var te=Object(l.a)((function(e){return{list:{marginTop:16},listTitle:{color:"#484d52",marginLeft:16},link:{color:"#6c757d",textDecoration:"none"},active:{color:"#000"}}}));var ne=function(){var e=te(),t=Object(m.b)(),n=Object(m.c)((function(e){return e.categories})).categories;return Object(a.useEffect)((function(){t(function(){var e=Object(T.a)(I.a.mark((function e(t){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/categories");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t({type:"categories/fetch/fulfilled",payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"categories/fetch/rejected",error:e.t0.toString()});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(j.jsxs)(Z.a,{component:"nav","aria-label":"secondary mailbox folders",className:e.list,children:[Object(j.jsx)($.a,{children:Object(j.jsx)(o.c,{activeClassName:e.active,className:e.link,exact:!0,to:"/",children:"\u0412\u0441\u0435 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0430"})}),n.map((function(t){return Object(j.jsx)($.a,{children:Object(j.jsx)(o.c,{activeClassName:e.active,className:e.link,exact:!0,to:"/medications/categories/".concat(t._id),children:t.name})},t._id)}))]})},ae=n(149),ce=n(150),re=n(151),ie=n(152),se=n(153),oe=Object(l.a)({card:{boxShadow:"0 .5rem 1rem rgba(0,0,0,.15)",borderRadius:10},imgBox:{padding:16,background:"url('/no-pictures.svg') center center/30% no-repeat",backgroundColor:"#ffffff",width:"calc(100% - 32px)",height:200},image:{objectFit:"contain",width:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%"},item:{height:"100%"},btnBox:{padding:16,paddingTop:0,justifyContent:"flex-end"}}),le=function(e){var t=e.item,n=oe();return Object(j.jsx)(C.a,{item:!0,xs:3,className:n.item,children:Object(j.jsxs)(ae.a,{className:n.card,children:[Object(j.jsxs)(ce.a,{children:[Object(j.jsx)(A.a,{className:n.imgBox,children:Object(j.jsx)(re.a,{className:n.image,component:"img",src:t.img})}),Object(j.jsxs)(ie.a,{children:[Object(j.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(j.jsx)(S.a,{gutterBottom:!0,component:"h2",children:t.category.name}),Object(j.jsx)(S.a,{variant:"h6",color:"textSecondary",component:"p",children:t.price?"".concat(t.price," \u20bd"):"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"})]})]}),Object(j.jsx)(se.a,{className:n.btnBox,children:Object(j.jsx)(d.a,{component:o.b,to:"/medications/".concat(t._id),size:"medium",color:"primary",variant:"contained",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})},t._id)},ue=function(e){var t=e.search,n=Object(s.f)().id,a=Object(m.c)((function(e){return e.medications.medications}));return(n?a.filter((function(e){return e.category._id===n})):a).filter((function(e){return""===t?e:e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(j.jsx)(le,{item:e})}))},de=Object(l.a)((function(e){return{sidebarWrap:{boxShadow:"0 .5rem 1rem rgba(0,0,0,.15)"},main:{minHeight:"calc(100vh - 92px)"},content:{padding:40},contentHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20}}})),je=function(){var e=de(),t=Object(m.b)(),n=c.a.useState(!1),r=Object(x.a)(n,2),i=r[0],s=r[1],o=(Object(m.c)((function(e){return e.medications.medications})),Object(a.useState)(1)),l=Object(x.a)(o,2);l[0],l[1];Object(a.useEffect)((function(){t(J())}),[]);var u=Object(m.c)((function(e){return e.medications.loading})),d=Object(a.useState)(""),p=Object(x.a)(d,2),b=p[0],f=p[1];return u?Object(j.jsx)("div",{children:Object(j.jsx)(z.a,{})}):Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(C.a,{container:!0,className:e.main,children:[Object(j.jsx)(C.a,{container:!0,item:!0,xs:2,className:e.sidebarWrap,children:Object(j.jsx)(ne,{})}),Object(j.jsxs)(C.a,{item:!0,xs:10,className:e.content,children:[Object(j.jsxs)(A.a,{className:e.contentHeader,children:[Object(j.jsx)(N.a,{id:"standard-search",label:"\u041d\u0430\u0439\u0442\u0438 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e",type:"search",variant:"outlined",onChange:function(e){f(e.target.value)}}),Object(j.jsx)(Y,{setOpen:s}),Object(j.jsx)(V,{setOpen:s,open:i})]}),Object(j.jsx)(C.a,{container:!0,spacing:3,children:Object(j.jsx)(ue,{search:b})})]})]})})},pe=n(155),be={requests:[],loading:!1,acceptLoading:!1,error:null};var me=n(79),fe=Object(l.a)({cardWrapper:{width:"75%",margin:"auto",marginBottom:20},card:{padding:20,boxShadow:"0 .5rem 1rem rgba(0,0,0,.15)",borderRadius:10},cardSpan:{fontSize:14,color:"gray"},btnAccept:{display:"block",marginLeft:"auto"},accepted:{border:"2px solid #38c838ba",position:"relative","&::before":{position:"absolute",fontSize:20,right:"50%",transform:"translateX(50%)",top:"40%",color:"green",content:'"\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0430 \u2705"',display:"block",width:"auto"}}}),he=function(){var e=fe(),t=Object(m.b)(),n=Object(m.c)((function(e){return e.requests.requests})),a=Object(m.c)((function(e){return e.requests.acceptLoading})),c=Object(m.c)((function(e){return e.application.token})),r=function(e,n){t(function(e,t){return function(){var n=Object(T.a)(I.a.mark((function n(a){var c,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"acceptRequest/fetch/pending",payload:t}),n.next=4,fetch("/requests/".concat(e,"/accept"),{method:"PATCH",body:JSON.stringify({id:e}),headers:{"Content-type":"application/json"}});case 4:return c=n.sent,n.next=7,c.json();case 7:(r=n.sent).error?a({type:"acceptRequest/fetch/rejected",error:r.error}):a({type:"acceptRequest/fetch/fulfilled",payload:e}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:"acceptRequest/fetch/rejected",error:n.t0.toString()});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(e,n))},i=n.find((function(e){return e.isAccept}))||a;return c?n.map((function(t){return Object(j.jsx)(A.a,{className:e.cardWrapper,children:Object(j.jsxs)(me.a,{className:"".concat(e.card," ").concat(t.isAccept?e.accepted:""),children:[Object(j.jsxs)(S.a,{variant:"h6",children:[Object(j.jsx)("span",{className:e.cardSpan,children:"\u0418\u043c\u044f: "}),t.name]}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)("span",{className:e.cardSpan,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: "}),t.message]}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)("span",{className:e.cardSpan,children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d: "}),t.tel]}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)("span",{className:e.cardSpan,children:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430: "}),t.email]}),Object(j.jsx)(d.a,{className:e.btnAccept,variant:"contained",color:"primary",onClick:function(){return r(t._id,t.medicationId)},disabled:i,children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"})]})})})):Object(j.jsx)(j.Fragment,{})},Oe=Object(l.a)({leftColumn:{display:"flex",justifyContent:"center"},rightColumn:{display:"flex",flexDirection:"column"},content:{margin:"auto",marginTop:40,width:"75%",position:"relative"},imgBox:{width:400,height:350,backgroundColor:"#e5e5e5",background:"url('/no-pictures.svg') center center/30% no-repeat"},image:{width:"auto",maxWidth:"100%",height:"100%",minWidth:"100%"},itemTxtBottom:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},descr:{flex:"auto"},btnDelete:{width:140,position:"absolute",right:0},requestsTitle:{marginTop:40,textAlign:"center"},name:{width:"calc(100% - 150px)"},descrSpan:{fontSize:16,color:"gray"},categorySpan:{fontSize:14,color:"gray"},divider:{width:"73%",margin:"auto",marginTop:80}});var ge=function(){var e=Oe(),t=Object(m.b)(),n=Object(s.f)().id,c=Object(m.c)((function(e){return e.medications})).medications,r=Object(m.c)((function(e){return e.requests})),i=(r.requests,r.loading),l=Object(m.c)((function(e){return e.application.token}));Object(a.useEffect)((function(){t(function(e){return function(){var t=Object(T.a)(I.a.mark((function t(n){var a,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"requestsGet/fetch/pending"}),t.next=4,fetch("/requests/".concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:(c=t.sent).error?n({type:"requestsGet/fetch/rejected",error:c.error}):n({type:"requestsGet/fetch/fulfilled",payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"requestsGet/fetch/rejected",error:t.t0.toString()});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[]),Object(a.useEffect)((function(){t(J())}),[]);var u=c.find((function(e){return n===e._id})),p=function(e){t(function(e){return function(){var t=Object(T.a)(I.a.mark((function t(n){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/medications/".concat(e),{method:"DELETE"});case 3:return a=t.sent,t.next=6,a.json();case 6:t.sent,n({type:"medications/remove/fulfilled",payload:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"medications/remove/rejected",error:t.t0.toString()});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return u?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(C.a,{container:!0,className:e.content,children:[Object(j.jsx)(C.a,{item:!0,xs:5,className:e.leftColumn,children:Object(j.jsx)(A.a,{className:e.imgBox,children:Object(j.jsx)(re.a,{className:e.image,component:"img",src:u.img})})}),Object(j.jsxs)(C.a,{item:!0,xs:7,className:e.rightColumn,children:[l?Object(j.jsx)(d.a,{className:e.btnDelete,component:o.b,to:"/",variant:"contained",color:"secondary",onClick:function(){p(u._id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}):"",Object(j.jsx)(S.a,{component:"h1",variant:"h4",className:e.name,gutterBottom:!0,children:u.name}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)("span",{className:e.categorySpan,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "}),u.category.name]}),Object(j.jsxs)(S.a,{component:"h1",variant:"h5",className:e.descr,children:[Object(j.jsx)("span",{className:e.descrSpan,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",Object(j.jsx)("br",{}),u.descr]}),Object(j.jsxs)(A.a,{className:e.itemTxtBottom,children:[Object(j.jsxs)(S.a,{children:["\u0414\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0433\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c -"," ","".concat(u.expiryDate-((new Date).getDate()-new Date(u.createdAt).getDate())," \u0434\u043d\u0435\u0439")]}),Object(j.jsx)(d.a,{component:o.b,variant:"contained",color:"primary",to:"/requests/".concat(n),children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"})]})]})]}),Object(j.jsxs)(A.a,{children:[i?Object(j.jsx)(z.a,{}):Object(j.jsx)(j.Fragment,{children:l?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(pe.a,{variant:"middle",className:e.divider}),Object(j.jsx)(S.a,{variant:"h4",gutterBottom:!0,className:e.requestsTitle,children:"\u0417\u0430\u044f\u0432\u043a\u0438"})]}):""}),Object(j.jsx)(he,{})]})]}):Object(j.jsx)(j.Fragment,{})},xe=function(){var e=Object(l.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",padding:"20px","& > *":{width:e.spacing(70),margin:"auto",height:e.spacing(70),textAlign:"center",justifyContent:"center"}},gridItem:{marginTop:"20px"}}}))(),t=Object(m.c)((function(e){return e.requests})),n=(t.requests,t.loading,Object(m.c)((function(e){return e.medications})).medications,Object(s.f)().medicationId),c=Object(m.b)(),r=Object(a.useState)(""),i=Object(x.a)(r,2),o=i[0],u=i[1],p=Object(a.useState)(""),b=Object(x.a)(p,2),f=b[0],h=b[1],O=Object(a.useState)(""),g=Object(x.a)(O,2),v=g[0],y=g[1],w=Object(a.useState)(""),k=Object(x.a)(w,2),q=k[0],W=k[1],B=Object(a.useState)(""),D=Object(x.a)(B,2),F=D[0],R=D[1];return Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)(me.a,{elevation:3,children:[Object(j.jsx)(S.a,{variant:"h6",gutterBottom:!0,className:e.gridItem,children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e"}),Object(j.jsxs)(C.a,{container:!0,spacing:3,className:e.gridItem,justifyContent:"center",children:[Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:Object(j.jsx)(N.a,{required:!0,id:"firstName",name:"firstName",label:"\u0418\u043c\u044f",fullWidth:!0,autoComplete:"given-name",onChange:function(e){return u(e.target.value)},value:o})}),Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:Object(j.jsx)(N.a,{required:!0,id:"Number",name:"Number",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",fullWidth:!0,type:"tel",onChange:function(e){return h(e.target.value)},value:f})}),Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:Object(j.jsx)(N.a,{type:"email",required:!0,id:"address",name:"address",label:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430",fullWidth:!0,autoComplete:"email",onChange:function(e){return y(e.target.value)},value:v})}),Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:Object(j.jsx)(N.a,{id:"filled-multiline-static",label:"\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u044d\u0442\u043e \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e?",multiline:!0,rows:5,fullWidth:!0,variant:"outlined",onChange:function(e){return W(e.target.value)},value:q})}),Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:Object(j.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return""===o||""===f||""===q||""===v?R("\u0412\u044b \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u043b\u0438 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"):-1===v.indexOf("@")||"@"===v[0]?R("Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e"):(c(function(e,t,n,a,c){return function(){var r=Object(T.a)(I.a.mark((function r(i){var s,o;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i({type:"requests/fetch/pending"}),r.next=4,fetch("/requests/".concat(e),{method:"POST",body:JSON.stringify({name:t,tel:n,email:a,message:c,medicationId:e}),headers:{"Content-type":"application/json"}});case 4:return s=r.sent,r.next=7,s.json();case 7:(o=r.sent).error?i({type:"requests/fetch/rejected",error:o.error}):i({type:"requests/fetch/fulfilled",payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),i({type:"requests/fetch/rejected",error:r.t0.toString()});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(n,o,f,v,q)),void R("\u0417\u0430\u044f\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})}),Object(j.jsx)(C.a,{item:!0,xs:12,sm:8,children:F})]})]})})};var ve=function(){return Object(m.c)((function(e){return e.application.token})),Object(j.jsxs)(o.a,{children:[Object(j.jsx)(g,{}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{exact:!0,path:"/",children:Object(j.jsx)(je,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/medications/categories/:id",children:Object(j.jsx)(je,{})}),Object(j.jsx)(s.a,{path:"/medications/:id",children:Object(j.jsx)(ge,{})}),Object(j.jsx)(s.a,{path:"/requests/:medicationId",children:Object(j.jsx)(xe,{})}),Object(j.jsx)(s.a,{path:"/sign-in",children:Object(j.jsx)(R,{})}),Object(j.jsx)(s.a,{path:"/sign-up",children:Object(j.jsx)(L,{})})]})]})},ye=n(49),we=n(76),Se=n(77),Ne=Object(ye.createStore)(Object(ye.combineReducers)({medications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"medications/fetch/pending":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"medications/fetch/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,medications:t.payload});case"medications/remove/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{medications:e.medications.filter((function(e){if(e!=t.payload)return e}))});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"categories/fetch/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{loading:!1,categories:t.payload});default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"application/signup/pending":return Object(B.a)(Object(B.a)({},e),{},{signingUp:!0,error:null});case"application/signup/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{signingUp:!1});case"application/signup/rejected":return Object(B.a)(Object(B.a)({},e),{},{signingUp:!1,error:t.error});case"application/signin/pending":return Object(B.a)(Object(B.a)({},e),{},{signingIn:!0,error:null});case"application/signin/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{signingIn:!1,token:t.payload.token});case"application/signin/rejected":return Object(B.a)(Object(B.a)({},e),{},{signingIn:!1,error:t.error});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"requestsGet/fetch/pending":case"requests/fetch/pending":return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case"requests/fetch/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{requests:t.payload,loading:!1});case"requests/fetch/rejected":return Object(B.a)(Object(B.a)({},e),{},{error:t.error,loading:!1});case"requestsGet/fetch/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{requests:t.payload,loading:!1});case"acceptRequest/fetch/pending":return Object(B.a)(Object(B.a)({},e),{},{acceptLoading:!0});case"acceptRequest/fetch/fulfilled":return Object(B.a)(Object(B.a)({},e),{},{acceptLoading:!1,requests:e.requests.map((function(e){return e._id===t.payload?Object(B.a)(Object(B.a)({},e),{},{isAccept:!0}):e}))});default:return e}}}),Object(Se.composeWithDevTools)(Object(ye.applyMiddleware)(we.a)));n(107);i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(m.a,{store:Ne,children:Object(j.jsx)(ve,{})})}),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.e7922f47.chunk.js.map